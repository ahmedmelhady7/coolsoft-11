#{extends '/topics/layout.html' /}
<html>
    <head>
        <title>Adding Tags</title>
    </head>
    <body>
        <ul>
            #{list items:tags, as:'tag'}
            <li>
                ${tag.name}
            </li>
            #{/list}
        </ul>
        <p>
            #{if tagAlreadyExists == true}
            <script type="text/javascript">
                alert("tag already exists");
            </script>
            #{/if}
            #{if userNotAllowed == false}
            #{form @Topics.tagTopic()}
            <input type="text" name="tag" id="tag"><input type="hidden" name="topicId" value="${topicId}"><input type="submit" value="Add Tag">#{/form}
            #{/if}
            #{else}
            <script type="text/javascript">
                alert("you are not allowed to tag this topic");
            </script>
            #{/else}
        </p>
    </body>
</html>
