#{extends 'Login/index.html' /}
#{set title:'Notification Profile' /}

<style type="text/css">
#crudShow{
			margin-top: 2%;
			margin-right: 9%;
			margin-bottom: 4%;
			margin-left: 0%;
			border-top-left-radius: 10px;
			border-top-right-radius: 10px;
			border-bottom-right-radius: 10px;
			border-bottom-left-radius: 10px;
			background-color: #bbbbbb;
			padding-top: 2%;
			padding-right: 4%;
			padding-bottom: 0%;
			padding-left: 4%;
			border-bottom-width: 2px;
			border-bottom-style: solid;
			border-bottom-color: #bbbbbb;
			border-right-width: 2px;
			border-right-style: solid;
			border-right-color: #bbbbbb;
			border-left-width: 2px;
			border-left-style: solid;
			border-left-color: #bbbbbb;
			border-top-width: 2px;
			border-top-style: solid;
			border-top-color: #bbbbbb;
			word-wrap: break-word;
		}
#descriptionShow{
			margin-top: 2%;
			margin-right: 5%;
			margin-bottom: 4%;
			margin-left: 5%;
			border-top-left-radius: 10px;
			border-top-right-radius: 10px;
			border-bottom-right-radius: 10px;
			border-bottom-left-radius: 10px;
			background-color: #FFFFFF;
			padding-top: 2%;
			padding-right: 4%;
			padding-bottom: 0%;
			padding-left: 4%;
			position: relative;
			border-bottom-width: 2px;
			border-bottom-style: solid;
			border-bottom-color: #bbbbbb;
			word-wrap: break-word;
		}
</style>

<div id="leftSidebar">
    <ul>                   
        <li>
			<h2>Notifications From</h2>
			<ul>
				<li><a href="@{Users.notificationView("All")}">All</a></li>
				<li><a href="@{Users.notificationView("Organization")}">Organizations</a></li>
				<li><a href="@{Users.notificationView("Entity")}">Entities</a></li>
				<li><a href="@{Users.notificationView("Topic")}">Topics</a></li>
				<li><a href="@{Users.notificationView("Idea")}">Ideas</a></li>
				<li><a href="@{Users.notificationView("Plan")}">Plans</a></li>
				<li><a href="@{Users.notificationView("Tag")}">Tags</a></li>
				<li><a href="@{Users.notificationView("User")}">Users</a></li>
			</ul>        
        </li>        
    </ul>
</div>

<div id="page">
		<div id="page-bgtop">
			<div id="page-bgbtm">
				<div id="content">
					<div class="post">
					<div id="crudShow">
					<h2>Notification Profile</h2>
					<br>
					<hr>
					<br>
					#{if notificationProfileList.size() == 0}
    				<i>You have no notification profiles ${type}!!</i>
					#{/if}
					<br>
					<ul>
					#{list items:notificationProfileList, as:'notifi'}
				    <li>
    				<fieldset>
    				<b>Notification from: </b> ${notifi.notifiableType} 
    				#{if notifi.notifiableType == 'Plan'}
    				<a href="@{Plans.viewAsList(notifi.notifiableId)}">${notifi.title}</a>
    				#{/if} 
    				#{if notifi.notifiableType == 'Topic'}
    				<a href="@{Topics.show(notifi.notifiableId)}">${notifi.title}</a>
    				#{/if} 
    				#{if notifi.notifiableType == 'Idea'}
    				<a href="@{Ideas.show(notifi.notifiableId)}">${notifi.toString()}</a>
    				#{/if} 
    				#{if notifi.notifiableType == 'Entity'}
    				<a href="@{MainEntitys.viewEntity(notifi.notifiableId)}">${notifi.title}</a>
    				#{/if} 
    				#{if notifi.notifiableType == 'Organization'}
    				<a href="@{Organizations.viewProfile(notifi.notifiableId)}">${notifi.title}</a>
    				#{/if} 
    				#{if notifi.notifiableType == 'Tag'}
    				<a href="@{Tags.mainPage(notifi.notifiableId)}">${notifi.title}</a>
    				#{/if} 
    				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    				<b>Enabled: </b>
    				#{if notifi.enabled}
    				<i style="color:green">yes</i>
    				#{/if}
    				#{else}
    				<i style="color:red">no</i>
    				#{/else}
    				</fieldset>
    				</li>
					#{/list}
					</ul>
					#{if notificationProfileList.size() != 0}										
					<form action="@{NotificationProfiles.alterPreferences(select)}" method="post">					
					<input class = "linkButton" type="submit"  value = "Edit Preferences">
					</form>					
					#{/if}
					</div>
					</div>
				</div>
			</div>
		</div>
	</div>

